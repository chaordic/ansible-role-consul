---
# Consul
consul_user: consul
consul_group: consul

consul_dependencies:
  - unzip

consul_dir_bin: /usr/bin
consul_dir_config: /etc/consul
consul_dir_data: /var/consul
consul_dir_run: /run/consul

consul_version: 1.4.2
consul_bin_url: "https://releases.hashicorp.com/consul/{{ consul_version }}/consul_{{ consul_version }}_linux_amd64.zip"

consul_servers:
  - localhost

# syslog
consul_syslog_enabled: true

# systemd
consul_systemd_state: started
consul_systemd_enabled: true

# config file
consul_config:
  data_dir: "{{ consul_dir_data }}"
  log_level: INFO
  server: true
  bootstrap_expect: "{{ consul_servers | length }}"
  ui: true
  client_addr: 0.0.0.0
  retry_join: "{{ consul_servers }}"
  enable_syslog: "{{ consul_syslog_enabled }}"
  leave_on_terminate: true
  telemetry:
    prometheus_retention_time: 24h

# Consul Backinator
consul_backup_version: 1.6.5
consul_backup_url: "https://github.com/myENA/consul-backinator/releases/download/v{{ consul_backup_version }}/consul-backinator-{{ consul_backup_version }}-amd64-linux.tar.gz"
consul_backup_hour: 0
consul_backup_enabled: false
