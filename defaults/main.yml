---
consul_role: server # it could assume server or client role

consul_user: consul
consul_group: consul

consul_dependencies:
  - unzip

consul_dir_bin: /usr/bin
consul_dir_config: /etc/consul
consul_dir_configd: /etc/consul/consul.d
consul_dir_data: /var/consul
consul_dir_run: /run/consul

consul_version: 1.4.2
consul_bin_url: "https://releases.hashicorp.com/consul/{{ consul_version }}/consul_{{ consul_version }}_linux_amd64.zip"

# systemd
consul_systemd_state: started
consul_systemd_enabled: true

# configuration
## node
consul_datacenter: dc1
consul_domain: consul
## agent
consul_data_dir: "{{ consul_dir_config }}"
consul_log_level: INFO
consul_enable_syslog: true
## server
consul_server: true
## client
consul_client_addr: 0.0.0.0
consul_prometheus_retention_time: 0s
consul_ui: true
## auto join
consul_bootstrap_expect: "{{ consul_bootstrap_servers | length }}"
consul_bootstrap_servers:
  - localhost
## DNS
consul_recursors: []
## ports
consul_ports_rpc: 8400
consul_ports_dns: 8600
consul_ports_http: 8500
consul_ports_https: -1
consul_ports_serf_lan: 8301
consul_ports_serf_wan: 8302
consul_ports_server: 8300
consul_ports_grpc: -1


# Consul Backinator
consul_backup_enabled: false
consul_backup_version: 1.6.5
consul_backup_url: "https://github.com/myENA/consul-backinator/releases/download/v{{ consul_backup_version }}/consul-backinator-{{ consul_backup_version }}-amd64-linux.tar.gz"
consul_backup_hour: 0
